# CẬP NHẬT RESAMPLE CHO 3 CHART FILES

## FILES CẦN UPDATE:
1. /static/js/chart-manual.js
2. /static/js/chart-bot.js  
3. /static/js/chart-strategy.js

## THAY ĐỔI:

### BƯỚC 1: XÓA HÀM resampleBars()
Tìm và xóa toàn bộ hàm resampleBars() trong cả 3 file (khoảng 60 dòng code)

### BƯỚC 2: THAY THẾ CALL resampleBars() 
Tìm dòng:
```javascript
const resampledBars = this.resampleBars(rawBars, this.currentTimeframe);
```

Thay bằng:
```javascript
// Không resample ở client nữa, dữ liệu đã đúng timeframe
const resampledBars = rawBars;
```

### LÝ DO:
- Data OFFLINE (CSV): Backend đã resample qua API `/api/resample-data`
- Data ONLINE (Exchange): Exchange trả về đúng timeframe luôn

### CHI TIẾT CỤ THỂ:

#### chart-manual.js (line ~825, ~888):
```javascript
// OLD (line 825):
const resampledBars = this.resampleBars(rawBars, this.currentTimeframe);

// NEW:
const resampledBars = rawBars; // Already resampled by backend

// XÓA toàn bộ hàm resampleBars() (line 888-945)
```

#### chart-bot.js (line ~748, ~811):
```javascript
// OLD (line 748):
const resampledBars = this.resampleBars(rawBars, this.currentTimeframe);

// NEW:
const resampledBars = rawBars; // Already resampled by backend

// XÓA toàn bộ hàm resampleBars() (line 811-868)
```

#### chart-strategy.js (line ~472, ~529):
```javascript
// OLD (line 472):
const resampledBars = this.resampleBars(rawBars, this.currentTimeframe);

// NEW:
const resampledBars = rawBars; // Already resampled by backend

// XÓA toàn bộ hàm resampleBars() (line 529-586)
```

## KẾT QUẢ:
✅ Chart nhẹ hơn (không tính toán resample phía client)
✅ Dữ liệu chuẩn xác hơn (backend dùng pandas)
✅ Performance tốt hơn với data lớn
